<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Dummy Page</title>
<style>
* { margin: 0; padding: 0; border: none; }
body { font-family: Verdana, Geneva, sans-serif; font-size: 12px; line-height: 140%; color: #7c7c7c; position: relative; margin: 0; padding: 0; }
p { margin-bottom: 15px; }
#content { margin: 0 auto; width: 640px; }
#Peekaboo { position: fixed; right: -281px; bottom: 0; border: 1px solid #999; width: 240px; height: 60px; padding: 20px; border-width: 1px 0 0 1px; color: #444; }
#Peekaboo .close { position: absolute; top: 0; right: 5px; width: 10px; height: 10px; cursor: pointer; color: #F00; }
#p7 { color: #09C; }
</style>
</head>
<body>
<div id="Peekaboo">
	<div class="close">x</div>
	Hello!  Welcome to the coolest slider in the world!
</div>
<div id="content">
<p id="p1">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer faucibus fermentum vehicula. Sed sed nisi mi. Etiam libero urna, condimentum quis luctus vel, placerat dapibus erat. Vestibulum felis dui, tempus non malesuada at, iaculis vitae massa. Curabitur at velit vitae leo laoreet adipiscing fringilla eget felis. Sed fringilla facilisis libero, quis lacinia lectus varius ut. Nam tortor felis, tristique sed bibendum sit amet, rhoncus quis tellus. Aenean volutpat, eros a porttitor sodales, ligula nibh posuere diam, non sagittis enim lorem ac odio. Sed eu quam purus, a semper mauris. Nunc consequat metus in magna malesuada volutpat vestibulum ante cursus. Fusce sollicitudin posuere consectetur. Vestibulum dignissim est feugiat nulla dignissim rhoncus. Aenean eu augue metus, at aliquam quam. Vivamus vitae ipsum nec mi posuere tempus eget vel magna. Maecenas non dui sapien, nec eleifend felis. Cras in dolor a est semper condimentum sit amet vel dui. Etiam iaculis, massa ac faucibus dignissim, velit lacus porta quam, porta feugiat lectus dolor at felis. Mauris volutpat pharetra tempor. Nullam quis dignissim neque. Cras rhoncus ligula sit amet lorem bibendum venenatis.</p>

<p id="p2">Quisque a urna eu purus commodo tristique nec ut eros. Nam risus leo, porttitor eget tristique nec, placerat vitae turpis. Nullam leo libero, condimentum et adipiscing nec, aliquet a orci. Phasellus adipiscing molestie nunc, non dictum justo iaculis non. Vestibulum lacus est, rutrum id pulvinar non, laoreet sed sem. Praesent placerat accumsan libero, et condimentum ligula ornare at. Vestibulum at lacus a massa porttitor condimentum. Nulla sagittis sem non elit laoreet vitae lacinia ipsum blandit. Pellentesque consectetur vestibulum mattis. Proin mollis porta mi, id facilisis ante rutrum nec. Aenean eu neque ligula, ultricies volutpat arcu. Duis congue semper lectus, vel dapibus metus consectetur at. Sed rhoncus nulla eu metus vehicula viverra. Aliquam pellentesque, diam nec porttitor gravida, nibh enim dapibus lacus, quis dignissim enim diam ut purus. Duis a est et metus tincidunt ornare. Duis et purus id elit placerat laoreet non sit amet odio. Cras imperdiet aliquet sapien, sit amet rhoncus lacus dapibus in. Mauris sollicitudin diam congue est blandit euismod. Nunc iaculis eleifend orci vitae ultricies.</p>

<p id="p3">Quisque dignissim, sapien sit amet volutpat commodo, lacus lectus vulputate ante, quis sodales mi arcu eu urna. Fusce non eros sapien, vitae mollis velit. Morbi eu tellus justo, in suscipit elit. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Etiam elementum augue tortor. Aliquam mattis nisl sit amet elit tempor vitae varius sapien facilisis. Phasellus ipsum erat, tincidunt eu convallis sed, elementum ac eros. Nullam adipiscing, lacus et mollis tempus, magna ipsum cursus augue, ac blandit tortor nibh a massa. Mauris vel nunc id libero dictum placerat nec ac felis. Nullam vulputate dolor id nulla elementum sit amet commodo enim adipiscing. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. In sed scelerisque lectus. Fusce convallis augue sed nisi faucibus vel viverra purus cursus.</p>

<p id="p4">Praesent ultrices viverra porta. Aenean faucibus, leo id scelerisque placerat, quam risus mollis magna, quis porta lacus ante et nibh. In hac habitasse platea dictumst. Maecenas ullamcorper interdum urna, sit amet varius lorem vehicula a. Donec consequat nulla tempor purus dignissim laoreet. Morbi risus quam, vehicula vitae facilisis quis, dapibus congue mauris. Aliquam aliquet velit at arcu viverra dapibus. Morbi placerat erat urna, ac hendrerit mauris. Sed lobortis nibh non mi lobortis in elementum dui volutpat. Maecenas nisi est, pulvinar eu pellentesque non, consequat non turpis. In vel vulputate sapien. Duis in ligula a nunc sagittis faucibus sed vitae orci. Morbi a ligula eget justo tincidunt vehicula vel vel sem. Proin varius, lacus ac lacinia hendrerit, augue lacus volutpat dolor, vel auctor felis orci euismod orci. Nullam ut ante dui. Proin mauris nibh, aliquet non interdum vel, rutrum vel tellus. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Cras eget eleifend risus. Nam et massa diam, quis pharetra odio. Proin ut felis sed sapien ultrices mollis eget at arcu.</p>

<p id="p5">Nullam convallis elementum velit. Aliquam ultricies nibh risus. Ut suscipit, urna ut ultrices porta, nisi nisl porttitor sapien, at bibendum orci dolor vel sapien. Duis tincidunt consectetur feugiat. Nulla lorem massa, malesuada pretium egestas in, fringilla vitae sem. Quisque id dolor tellus, consectetur ultricies turpis. Maecenas sagittis augue eu lorem consectetur posuere. Duis laoreet, arcu vitae imperdiet placerat, felis dui congue velit, eget eleifend sapien diam in elit. Praesent convallis, risus id luctus rutrum, nibh magna convallis nunc, id ultricies lacus augue sit amet felis. Duis in elit eu nibh mollis ullamcorper vel non mauris. Ut pellentesque orci feugiat felis cursus elementum scelerisque mauris gravida. In ac ante nec lorem elementum vestibulum. Phasellus bibendum neque vitae augue feugiat ut volutpat lectus egestas. Aenean facilisis imperdiet odio euismod lacinia. Aliquam a risus id lorem elementum laoreet. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Donec nisi nulla, tempor at ullamcorper ac, lacinia sit amet enim. Ut pretium imperdiet nibh sagittis mollis. Morbi rutrum mattis lorem nec viverra.</p>

<p id="p6">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer faucibus fermentum vehicula. Sed sed nisi mi. Etiam libero urna, condimentum quis luctus vel, placerat dapibus erat. Vestibulum felis dui, tempus non malesuada at, iaculis vitae massa. Curabitur at velit vitae leo laoreet adipiscing fringilla eget felis. Sed fringilla facilisis libero, quis lacinia lectus varius ut. Nam tortor felis, tristique sed bibendum sit amet, rhoncus quis tellus. Aenean volutpat, eros a porttitor sodales, ligula nibh posuere diam, non sagittis enim lorem ac odio. Sed eu quam purus, a semper mauris. Nunc consequat metus in magna malesuada volutpat vestibulum ante cursus. Fusce sollicitudin posuere consectetur. Vestibulum dignissim est feugiat nulla dignissim rhoncus. Aenean eu augue metus, at aliquam quam. Vivamus vitae ipsum nec mi posuere tempus eget vel magna. Maecenas non dui sapien, nec eleifend felis. Cras in dolor a est semper condimentum sit amet vel dui. Etiam iaculis, massa ac faucibus dignissim, velit lacus porta quam, porta feugiat lectus dolor at felis. Mauris volutpat pharetra tempor. Nullam quis dignissim neque. Cras rhoncus ligula sit amet lorem bibendum venenatis.</p>

<p id="p7">Quisque a urna eu purus commodo tristique nec ut eros. Nam risus leo, porttitor eget tristique nec, placerat vitae turpis. Nullam leo libero, condimentum et adipiscing nec, aliquet a orci. Phasellus adipiscing molestie nunc, non dictum justo iaculis non. Vestibulum lacus est, rutrum id pulvinar non, laoreet sed sem. Praesent placerat accumsan libero, et condimentum ligula ornare at. Vestibulum at lacus a massa porttitor condimentum. Nulla sagittis sem non elit laoreet vitae lacinia ipsum blandit. Pellentesque consectetur vestibulum mattis. Proin mollis porta mi, id facilisis ante rutrum nec. Aenean eu neque ligula, ultricies volutpat arcu. Duis congue semper lectus, vel dapibus metus consectetur at. Sed rhoncus nulla eu metus vehicula viverra. Aliquam pellentesque, diam nec porttitor gravida, nibh enim dapibus lacus, quis dignissim enim diam ut purus. Duis a est et metus tincidunt ornare. Duis et purus id elit placerat laoreet non sit amet odio. Cras imperdiet aliquet sapien, sit amet rhoncus lacus dapibus in. Mauris sollicitudin diam congue est blandit euismod. Nunc iaculis eleifend orci vitae ultricies.</p>

<p id="p8">Quisque dignissim, sapien sit amet volutpat commodo, lacus lectus vulputate ante, quis sodales mi arcu eu urna. Fusce non eros sapien, vitae mollis velit. Morbi eu tellus justo, in suscipit elit. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Etiam elementum augue tortor. Aliquam mattis nisl sit amet elit tempor vitae varius sapien facilisis. Phasellus ipsum erat, tincidunt eu convallis sed, elementum ac eros. Nullam adipiscing, lacus et mollis tempus, magna ipsum cursus augue, ac blandit tortor nibh a massa. Mauris vel nunc id libero dictum placerat nec ac felis. Nullam vulputate dolor id nulla elementum sit amet commodo enim adipiscing. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. In sed scelerisque lectus. Fusce convallis augue sed nisi faucibus vel viverra purus cursus.</p>

<p id="p9">Praesent ultrices viverra porta. Aenean faucibus, leo id scelerisque placerat, quam risus mollis magna, quis porta lacus ante et nibh. In hac habitasse platea dictumst. Maecenas ullamcorper interdum urna, sit amet varius lorem vehicula a. Donec consequat nulla tempor purus dignissim laoreet. Morbi risus quam, vehicula vitae facilisis quis, dapibus congue mauris. Aliquam aliquet velit at arcu viverra dapibus. Morbi placerat erat urna, ac hendrerit mauris. Sed lobortis nibh non mi lobortis in elementum dui volutpat. Maecenas nisi est, pulvinar eu pellentesque non, consequat non turpis. In vel vulputate sapien. Duis in ligula a nunc sagittis faucibus sed vitae orci. Morbi a ligula eget justo tincidunt vehicula vel vel sem. Proin varius, lacus ac lacinia hendrerit, augue lacus volutpat dolor, vel auctor felis orci euismod orci. Nullam ut ante dui. Proin mauris nibh, aliquet non interdum vel, rutrum vel tellus. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Cras eget eleifend risus. Nam et massa diam, quis pharetra odio. Proin ut felis sed sapien ultrices mollis eget at arcu.</p>

<p id="p10">Nullam convallis elementum velit. Aliquam ultricies nibh risus. Ut suscipit, urna ut ultrices porta, nisi nisl porttitor sapien, at bibendum orci dolor vel sapien. Duis tincidunt consectetur feugiat. Nulla lorem massa, malesuada pretium egestas in, fringilla vitae sem. Quisque id dolor tellus, consectetur ultricies turpis. Maecenas sagittis augue eu lorem consectetur posuere. Duis laoreet, arcu vitae imperdiet placerat, felis dui congue velit, eget eleifend sapien diam in elit. Praesent convallis, risus id luctus rutrum, nibh magna convallis nunc, id ultricies lacus augue sit amet felis. Duis in elit eu nibh mollis ullamcorper vel non mauris. Ut pellentesque orci feugiat felis cursus elementum scelerisque mauris gravida. In ac ante nec lorem elementum vestibulum. Phasellus bibendum neque vitae augue feugiat ut volutpat lectus egestas. Aenean facilisis imperdiet odio euismod lacinia. Aliquam a risus id lorem elementum laoreet. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Donec nisi nulla, tempor at ullamcorper ac, lacinia sit amet enim. Ut pretium imperdiet nibh sagittis mollis. Morbi rutrum mattis lorem nec viverra.</p>
</div>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js" type="text/javascript"></script>
<script>
/* Simple JavaScript Inheritance
 * By John Resig http://ejohn.org/
 * MIT Licensed.
 */
// Inspired by base2 and Prototype
(function(){
  var initializing = false, fnTest = /xyz/.test(function(){xyz;}) ? /\b_super\b/ : /.*/;

  // The base Class implementation (does nothing)
  this.Class = function(){};
 
  // Create a new Class that inherits from this class
  Class.extend = function(prop) {
    var _super = this.prototype;
   
    // Instantiate a base class (but only create the instance,
    // don't run the init constructor)
    initializing = true;
    var prototype = new this();
    initializing = false;
   
    // Copy the properties over onto the new prototype
    for (var name in prop) {
      // Check if we're overwriting an existing function
      prototype[name] = typeof prop[name] == "function" &&
        typeof _super[name] == "function" && fnTest.test(prop[name]) ?
        (function(name, fn){
          return function() {
            var tmp = this._super;
           
            // Add a new ._super() method that is the same method
            // but on the super-class
            this._super = _super[name];
           
            // The method only need to be bound temporarily, so we
            // remove it when we're done executing
            var ret = fn.apply(this, arguments);       
            this._super = tmp;
           
            return ret;
          };
        })(name, prop[name]) :
        prop[name];
    }
   
    // The dummy class constructor
    function Class() {
      // All construction is actually done in the init method
      if ( !initializing && this.init )
        this.init.apply(this, arguments);
    }
   
    // Populate our constructed prototype object
    Class.prototype = prototype;
   
    // Enforce the constructor to be what we expect
    Class.constructor = Class;

    // And make this class extendable
    Class.extend = arguments.callee;
   
    return Class;
  };
})();

(function($){

	var Peekaboo = Class.extend({
		init: function(slider, trigger){
			var self = this;

			self._isOut = false;			
			self._target = $(slider);
			self._hidePos = -281;
			
			// Bind Events
			$('#Peekaboo .close').click(function(){
				self._target.animate({ right: self._hidePos });
				self._isOut = false;
			});
			
			$(window).bind("scroll", function(){								  
				var triggerAt = $(trigger).offset().top - $(window).height();
				var windowScroll = $(window).scrollTop();
				// console.log(windowScroll + " " + triggerAt + " " + self._isOut);
				if(windowScroll > triggerAt && !self._isOut || windowScroll < triggerAt  && self._isOut) {
					self.pToggle();
				}
			});
		},
		pToggle: function(){
			var self = this;
			var target = self._target;
			if(self._isOut){
				target.animate({ right: self._hidePos }, 400);
				self._isOut = false;
			} else {
				target.animate({ right: 0 }, 200);
				self._isOut = true;
			}
		}
	});

	var s = new Peekaboo('#Peekaboo','#p7');

})(jQuery);
</script>
</body>
</html>
